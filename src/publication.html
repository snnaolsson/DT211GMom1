<!DOCTYPE html>
<html lang="sv">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Publicering</title>
    <link rel="stylesheet" href="css/styles.css" />
    <script
      src="https://kit.fontawesome.com/4f7fd7ff6b.js"
      crossorigin="anonymous"
    ></script>
    <script type="module" src="js/app.js"></script>
  </head>
  <body>
    <header>
      <div id="burger">
        <i class="fa-solid fa-bars"></i>
      </div>
      <nav id="menu">
        <ul>
          <li><a href="index.html">Startsida</a></li>
          <li>
            <a class="active-page" href="publication.html">Publicering</a>
          </li>
          <li><a href="pictures.html">Bilder</a></li>
          <li><a href="#">Länk 1</a></li>
          <li><a href="#">Länk 2</a></li>
          <li><a href="#">Länk 3</a></li>
        </ul>
      </nav>
      <div id="header-text">Frontend-baserad webbutveckling</div>
    </header>
    <section id="publication">
      <h1>Arbetsprocessen</h1>
      <p>
        Jag börjar med att installera parcel. Skapar ett repo till projektet.
        Kopplar repot till netlify (se rubrik publicering).
      </p>
      <p>
        Jag skapar sedan mina sidor: index.html, publication.html och
        pictures.html. Jag skapar en CSS fil och js-fil och kopplar dessa till
        varje html-sida. När jag har kommit en bit på sidan, exempelvis löst en
        del av ett problem, så comittar jag förändringarna till github. När jag
        är klar med problemet och sidan ser bra ut så köt jag npm run build och
        så mergar jag develop-branchen med main-branch så att alla förändringar
        kommer till main och så att även den publicerade webbsidan uppdateras.
      </p>
      <p>
        På undersidan pictures lägger jag sedan in 5 bilder. Dessa bilder lägger
        jag i picture-taggen och använder parcel för att optimera dessa (se
        rubrik automatisering). Jag skapar sedan vilket bakåtkompabilitet
        webbläsaren ska stödja med hjälp av parcel (se rubrik Automatisering).
      </p>
      <p>
        När sidan är klar för stor skärm så arbetar jag med att göra den
        resonsiv med media queries och att lägga till en hamburgermeny. Även här
        commitar jag regelbundet under arbetet till min develop-branch. När jag
        är klar med en del så kör jag npm run build, comit och sedan så mergar
        jag mina branches för att även webbsidan ska uppdateras.
      </p>
      <section>
        <h2>Struktur</h2>
        <p>
          All HTML, CSS, JS och media som hör till webbsidan ligger i en
          src-katalog. I den katalogen så finns underkataloger för bilder, css
          och js. Detta för att ha en lättöverskådlig struktur i arbetet. En
          gitignore-fil finns till projektet och i den finns de delar som inte
          ska sparas till git.
        </p>
      </section>
      <section>
        <h2 id="h2ash1">Automatisering</h2>
        <section class="automatisera">
          <h2>
            Minifiering av CSS och HTML samt minifiering och transpilering av
            JavaScript
          </h2>
          <p>
            När man kör parcel build så optimeras HTML, CSS och JavaScript
            automatiskt. Parcel använder SWC för att minifiera JavaScript,
            lightningcss för CSS ocg htmlnano för HTML. Om man inte vill att
            filerna ska optimeras och minifieras kan man använda sig av
            CLI-flaggan --no-optimize.
          </p>
        </section>
        <section class="automatisera">
          <h2>Bilder</h2>
          <p>
            Alla bilder på undersidan pictures komprimeras automatiskt till en
            annan storlek och även till annat filformat. I första hand avif, i
            andrahand webp och i sista hand en jpeg som originalbilden men med
            annan storlek. Bilderna ligger i en picturetag och varje ny variant
            jag vill ha av originalbilden i en egen source-tag. När det kommer
            till bilderna så har parcel gjort ett bra jobb på egen hand så jag
            har därför inte behövt skapa någon sharp.config.json-fil.
          </p>
        </section>
        <section class="automatisera">
          <h2>Bakåtkompabilitet</h2>
          <p>
            I package.json finns queries för vilka webbläsarversioner som ska
            stödjas. 99.5% av de mest använda webbläsarna, de senaste två
            versionerna av varje webbläsare och under förutsättning att de inte
            är "döda". En död webbläsare är en webbläsare som inte har haft
            officiellt stöd eller uppdatering på 24 månader (IE11, Blackberry
            10, Blackberry 7, Samsung 4, OperaMobile 12.1, IE_Mob 11 och alla
            versioner av Baidu. (Källa:
            <a
              id="blue-link"
              href="https://github.com/browserslist/browserslist#full-list"
              >Github browserlist</a
            >))
          </p>
        </section>
        <section class="automatisera">
          <h2>Kopiering av arbetsfiler och publicering</h2>
          <p>
            När npm run build körs så kopieras alla arbetsfiler automatiskt och
            optimeras av parcel. De optimerade filerna hamnar sedan i katalogen
            dist.
          </p>
          <p>
            När dist-katalogen uppdateras i main-branchen på github så
            uppdateras även webbsidan automatiskt på netlify då webbsidan är
            satt att distribueras från github.
          </p>
        </section>
      </section>
    </section>
    <footer>
      <p>saol1901@student.miun.se</p>
    </footer>
  </body>
</html>
